<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Will you be my Valentine? ğŸ’•</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary-pink: #ff69b4;
            --secondary-pink: #ffb6c1;
            --dark-pink: #ff1493;
            --bg-gradient: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%);
            --safe-area-top: env(safe-area-inset-top, 0px);
            --safe-area-bottom: env(safe-area-inset-bottom, 0px);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: calc(20px + var(--safe-area-top)) 20px calc(20px + var(--safe-area-bottom)) 20px;
            overflow-x: hidden;
            position: relative;
        }

        /* Floating hearts background animation */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .heart-bg {
            position: absolute;
            font-size: 20px;
            opacity: 0.15;
            animation: float-up 15s infinite ease-in-out;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.15;
            }
            90% {
                opacity: 0.15;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Main container */
        .container {
            max-width: 500px;
            width: 100%;
            text-align: center;
            position: relative;
            z-index: 1;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Title */
        h1 {
            font-size: clamp(28px, 7vw, 42px);
            color: var(--dark-pink);
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.2);
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            10%, 30% {
                transform: scale(1.05);
            }
            20%, 40% {
                transform: scale(1);
            }
        }

        /* Photo container */
        .photo-container {
            width: 100%;
            max-width: 350px;
            margin: 0 auto 30px;
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(255, 105, 180, 0.3);
            transition: all 0.5s ease;
        }

        .photo-container img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
        }

        .photo-container:hover img {
            transform: scale(1.05);
        }

        /* Message text */
        .message {
            font-size: clamp(16px, 4vw, 20px);
            color: var(--dark-pink);
            margin-bottom: 40px;
            min-height: 30px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .message.shake {
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Buttons container */
        .buttons-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            position: relative;
            min-height: 120px;
            margin-bottom: 30px;
        }

        /* Base button styles */
        .btn {
            font-size: clamp(18px, 4.5vw, 24px);
            font-weight: 600;
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            min-width: 120px;
            touch-action: manipulation;
            user-select: none;
        }

        /* Yes button */
        .btn-yes {
            background: linear-gradient(135deg, var(--primary-pink), var(--dark-pink));
            color: white;
            animation: pulse 2s ease-in-out infinite;
            position: relative;
            overflow: visible;
        }

        .btn-yes::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease, opacity 0.6s ease;
            opacity: 0;
            pointer-events: none;
        }

        .btn-yes:hover::before {
            width: 300px;
            height: 300px;
            opacity: 0;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 5px 20px rgba(255, 20, 147, 0.3);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 30px rgba(255, 20, 147, 0.5);
            }
        }

        .btn-yes:active {
            transform: scale(0.95);
        }

        /* Sparkle particles on hover */
        .sparkle {
            position: fixed;
            pointer-events: none;
            font-size: 20px;
            z-index: 1000;
            animation: sparkle-float 1s ease-out forwards;
        }

        @keyframes sparkle-float {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0);
            }
            50% {
                transform: translateY(-30px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-60px) scale(0.5);
            }
        }

        /* No button */
        .btn-no {
            background: white;
            color: var(--dark-pink);
            border: 2px solid var(--secondary-pink);
            position: absolute;
            transition: all 0.3s ease, left 0s, top 0s;
        }

        .btn-no:hover {
            background: var(--secondary-pink);
            transform: scale(1.05);
        }

        .btn-no:active {
            transform: scale(0.95);
        }

        /* Audio controls */
        .audio-controls {
            position: fixed;
            top: calc(20px + var(--safe-area-top));
            right: 20px;
            z-index: 100;
        }

        .audio-btn {
            background: white;
            border: 2px solid var(--secondary-pink);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .audio-btn:active {
            transform: scale(0.9);
        }

        /* Celebration overlay */
        .celebration-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease;
        }

        .celebration-overlay.active {
            display: flex;
        }

        .celebration-message {
            font-size: clamp(32px, 8vw, 56px);
            color: var(--dark-pink);
            margin-bottom: 30px;
            animation: bounceIn 0.8s ease;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--primary-pink);
            position: absolute;
            animation: confetti-fall 3s linear forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Canvas for confetti */
        #confettiCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* Hidden state */
        .hidden {
            display: none !important;
        }

        /* Responsive adjustments */
        @media (max-width: 480px) {
            .btn {
                padding: 15px 30px;
                min-width: 100px;
            }

            .buttons-container {
                gap: 15px;
            }
        }
    </style>
</head>
<body>
<!-- Floating hearts background -->
<div class="floating-hearts" id="floatingHearts"></div>

<!-- Audio controls -->
<div class="audio-controls">
    <button class="audio-btn" id="audioBtn" aria-label="Toggle music">ğŸ”‡</button>
</div>

<!-- Main container -->
<div class="container">
    <h1>Will you be my Valentine? ğŸ’•</h1>

    <!-- Photo -->
    <div class="photo-container" id="photoContainer">
        <!--
            Î‘Î›Î›Î‘ÎÎ• Î¤Î— Î¦Î©Î¤ÎŸÎ“Î¡Î‘Î¦Î™Î‘ Î•Î”Î©:
            Î’Î¬Î»Îµ Ï„Î¿ Î´Î¹ÎºÏŒ ÏƒÎ¿Ï… URL Î® data URL ÏƒÏ„Î¿ src=""
        -->
        <img id="mainPhoto" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect fill='%23ffe0f0' width='400' height='400'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='60' fill='%23ff69b4'%3Eâ¤ï¸%3C/text%3E%3Ctext x='50%25' y='65%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='20' fill='%23ff1493'%3EYour Photo Here%3C/text%3E%3C/svg%3E" alt="Valentine photo">
    </div>

    <!-- Message -->
    <div class="message" id="message"></div>

    <!-- Buttons -->
    <div class="buttons-container" id="buttonsContainer">
        <button class="btn btn-yes" id="yesBtn">Yes! ğŸ’–</button>
        <button class="btn btn-no" id="noBtn">No</button>
    </div>
</div>

<!-- Celebration overlay -->
<div class="celebration-overlay" id="celebrationOverlay">
    <div class="celebration-message" id="celebrationMessage">Yay! ğŸ’•âœ¨</div>
    <div class="photo-container">
        <!--
            Î‘Î›Î›Î‘ÎÎ• Î¤Î— Î¦Î©Î¤ÎŸÎ“Î¡Î‘Î¦Î™Î‘ "CELEBRATION" Î•Î”Î©:
            Î‘Ï…Ï„Î® Î¸Î± ÎµÎ¼Ï†Î±Î½Î¹ÏƒÏ„ÎµÎ¯ ÏŒÏ„Î±Î½ Ï€Î±Ï„Î®ÏƒÎµÎ¹ "Yes"
        -->
        <img id="celebrationPhoto" src="C:\Users\t.andronikou\Downloads\final image.jpg" alt="Celebration photo">
    </div>
</div>

<!-- Confetti canvas -->
<canvas id="confettiCanvas"></canvas>

<!-- Background music (hidden audio element) -->
<!--
    Î‘Î›Î›Î‘ÎÎ• Î¤ÎŸ BACKGROUND MUSIC Î•Î”Î©:
    Î’Î¬Î»Îµ Ï„Î¿ Î´Î¹ÎºÏŒ ÏƒÎ¿Ï… MP3/audio URL
    Î“Î¹Î± mobile autoplay, Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ user interaction Ï€ÏÏÏ„Î±
-->
<audio id="bgMusic" loop>
    <!-- Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï„Î¿ Î´Î¹ÎºÏŒ ÏƒÎ±Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿ Î®Ï‡Î¿Ï… ÎµÎ´Ï -->
    <!-- <source src="your-music-file.mp3" type="audio/mpeg"> -->
</audio>

<script>
    // ============================================
    // CONFIGURATION - Î‘Î›Î›Î‘ÎÎ• Î¤Î‘ ÎšÎ•Î™ÎœÎ•ÎÎ‘ Î•Î”Î©
    // ============================================
    const CONFIG = {
        // ÎœÎ·Î½ÏÎ¼Î±Ï„Î± Ï€Î¿Ï… ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÏŒÏ„Î±Î½ Ï€Î±Ï„Î¬ÎµÎ¹ "No"
        noMessages: [
            "Î£Î¯Î³Î¿Ï…ÏÎ±; ğŸ¥º",
            "ÎœÎ®Ï€Ï‰Ï‚ Î½Î± Ï„Î¿ Î¾Î±Î½Î±ÏƒÎºÎµÏ†Ï„ÎµÎ¯Ï‚; ğŸ’­",
            "Î Î»Î¹Î¹Î¹Î¹Î¶; ğŸ™",
            "Î¤Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ Yes ÎµÎ¯Î½Î±Î¹ Ï€Î¹Î¿ Ï‰ÏÎ±Î¯Î¿! âœ¨",
            "Î”ÎµÎ½ Î¸Î± Ï„Î¿ Î¼ÎµÏ„Î±Î½Î¹ÏÏƒÎµÎ¹Ï‚! ğŸ’•",
            "Seriously? ğŸ˜¢",
            "Okay fine... Î±Î»Î»Î¬ ÎºÎ¿Î¯Ï„Î± Ï€ÏŒÏƒÎ¿ Î¼Î¹ÎºÏÏŒ Î­Î³Î¹Î½Îµ! ğŸ”",
            "Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± Ï€ÏÎ¿ÎµÎ¹Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ·! âš ï¸",
            "Î˜Î± Ï„Î¿ Ï€Î±Ï‚ Î¼Î­Ï‡ÏÎ¹ Ï„Î­Î»Î¿Ï‚; ğŸ˜¤",
            "Fine... ÎŸÎš Î´ÎµÏ‚ Ï„Î¹ Î¸Î± Î³Î¯Î½ÎµÎ¹ Ï„ÏÏÎ±! ğŸ˜"
        ],

        // Î¤ÎµÎ»Î¹ÎºÏŒ Î¼Î®Î½Ï…Î¼Î± Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ Ï€Î¿Î»Î»Î¬ No
        finalNoMessage: "Î‘Ï†Î¿Ï ÎµÏ€Î¹Î¼Î­Î½ÎµÎ¹Ï‚... Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ No Î¸Î± Î³Î¯Î½ÎµÎ¹ YES! ğŸ˜ˆ",

        // Î¤ÎµÎ»Î¹ÎºÏŒ Î¼Î®Î½Ï…Î¼Î± celebration
        celebrationMessage: "Yay! Best Valentine Ever! ğŸ’•âœ¨ğŸ‰",

        // Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î¿ "Ï†ÎµÏÎ³Î¿Î½" No button
        noButtonShrinkFactor: 0.82, // Î ÏŒÏƒÎ¿ Î¼Î¹ÎºÏÎ±Î¯Î½ÎµÎ¹ ÎºÎ¬Î¸Îµ Ï†Î¿ÏÎ¬
        noButtonMinScale: 0.25, // Minimum Î¼Î­Î³ÎµÎ¸Î¿Ï‚
        maxNoClicks: 10, // ÎœÎµÏ„Î¬ Î±Ï€ÏŒ Ï„ÏŒÏƒÎ± clicks, Ï„Î¿ No Î³Î¯Î½ÎµÏ„Î±Î¹ Yes

        // Hover dodge - Ï„Î¿ No Ï†ÎµÏÎ³ÎµÎ¹ Î±Î½ Ï€Î»Î·ÏƒÎ¹Î¬ÏƒÎµÎ¹Ï‚ Î¼Îµ Ï„Î¿ Ï€Î¿Î½Ï„Î¯ÎºÎ¹
        enableHoverDodge: true,
        hoverDodgeDistance: 80, // Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ· ÏƒÎµ pixels
    };

    // ============================================
    // STATE
    // ============================================
    let noClickCount = 0;
    let audioEnabled = false;
    let noButtonScale = 1;
    let isNoButtonTrapped = false; // Î“Î¹Î± Ï„Î¿ Ï„ÎµÎ»Î¹ÎºÏŒ "trap"
    let dodgeInterval = null;

    // ============================================
    // ELEMENTS
    // ============================================
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const message = document.getElementById('message');
    const celebrationOverlay = document.getElementById('celebrationOverlay');
    const celebrationMessage = document.getElementById('celebrationMessage');
    const audioBtn = document.getElementById('audioBtn');
    const bgMusic = document.getElementById('bgMusic');
    const buttonsContainer = document.getElementById('buttonsContainer');
    const confettiCanvas = document.getElementById('confettiCanvas');
    const ctx = confettiCanvas.getContext('2d');

    // ============================================
    // INITIALIZATION
    // ============================================
    function init() {
        createFloatingHearts();
        setupEventListeners();
        setupCanvas();
        positionNoButtonInitial();

        // Try to enable audio on first user interaction
        document.body.addEventListener('click', enableAudioOnFirstClick, { once: true });
    }

    function enableAudioOnFirstClick() {
        const hasAudioSource = bgMusic.querySelector('source');
        if (hasAudioSource) {
            bgMusic.load();
            console.log('Audio ready to play');
        } else {
            console.log('No audio source - add your MP3 file to enable music');
        }
    }

    // ============================================
    // FLOATING HEARTS BACKGROUND
    // ============================================
    function createFloatingHearts() {
        const heartsContainer = document.getElementById('floatingHearts');
        const heartCount = 15;

        for (let i = 0; i < heartCount; i++) {
            const heart = document.createElement('div');
            heart.className = 'heart-bg';
            heart.textContent = 'ğŸ’•';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 15 + 's';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heartsContainer.appendChild(heart);
        }
    }

    // ============================================
    // EVENT LISTENERS
    // ============================================
    function setupEventListeners() {
        yesBtn.addEventListener('click', handleYesClick);
        noBtn.addEventListener('click', handleNoClick);
        audioBtn.addEventListener('click', toggleAudio);

        // Hover dodge Î³Î¹Î± desktop
        if (CONFIG.enableHoverDodge) {
            document.addEventListener('mousemove', handleMouseMove);
        }

        // Sparkles on Yes button hover
        yesBtn.addEventListener('mouseenter', createSparkles);
        yesBtn.addEventListener('mousemove', createSparklesOnMove);
    }

    // ============================================
    // SPARKLE EFFECTS
    // ============================================
    function createSparkles() {
        createSparkle();
    }

    let sparkleTimeout;
    function createSparklesOnMove(e) {
        if (sparkleTimeout) clearTimeout(sparkleTimeout);
        sparkleTimeout = setTimeout(() => {
            createSparkle(e.clientX, e.clientY);
        }, 100);
    }

    function createSparkle(x, y) {
        const sparkles = ['âœ¨', 'ğŸ’–', 'ğŸ’•', 'â­'];
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];

        if (x && y) {
            sparkle.style.left = x + (Math.random() - 0.5) * 40 + 'px';
            sparkle.style.top = y + (Math.random() - 0.5) * 40 + 'px';
        } else {
            const rect = yesBtn.getBoundingClientRect();
            sparkle.style.left = rect.left + rect.width / 2 + (Math.random() - 0.5) * rect.width + 'px';
            sparkle.style.top = rect.top + rect.height / 2 + (Math.random() - 0.5) * rect.height + 'px';
        }

        document.body.appendChild(sparkle);

        setTimeout(() => {
            sparkle.remove();
        }, 1000);
    }

    // ============================================
    // HOVER DODGE - Î¤Î¿ No Ï†ÎµÏÎ³ÎµÎ¹ ÏŒÏ„Î±Î½ Ï€Î»Î·ÏƒÎ¹Î¬Î¶ÎµÎ¹ Ï„Î¿ Ï€Î¿Î½Ï„Î¯ÎºÎ¹
    // ============================================
    function handleMouseMove(e) {
        if (isNoButtonTrapped || noClickCount === 0) return;

        const noBtnRect = noBtn.getBoundingClientRect();
        const noBtnCenterX = noBtnRect.left + noBtnRect.width / 2;
        const noBtnCenterY = noBtnRect.top + noBtnRect.height / 2;

        const distance = Math.sqrt(
            Math.pow(e.clientX - noBtnCenterX, 2) +
            Math.pow(e.clientY - noBtnCenterY, 2)
        );

        if (distance < CONFIG.hoverDodgeDistance) {
            moveNoButtonAway(e.clientX, e.clientY);
        }
    }

    // ============================================
    // YES BUTTON HANDLER
    // ===============================================

    function handleYesClick() {
        celebrationMessage.textContent = CONFIG.celebrationMessage;
        celebrationOverlay.classList.add('active');
        createConfetti();

        // Play audio if enabled
        if (audioEnabled && bgMusic.querySelector('source')) {
            const playPromise = bgMusic.play();
            if (playPromise !== undefined) {
                playPromise.catch(e => console.log('Celebration audio play failed:', e));
            }
        }

        // Add some sparkle to the yes button
        yesBtn.style.animation = 'none';
        setTimeout(() => {
            yesBtn.style.animation = 'pulse 2s ease-in-out infinite';
        }, 10);
    }

    // ============================================
    // NO BUTTON HANDLER
    // ============================================
    function handleNoClick(e) {
        // Prevent default if it's the final trap
        if (e) e.preventDefault();

        noClickCount++;

        // Check if max clicks reached - TRAP THE USER! ğŸ˜ˆ
        if (noClickCount >= CONFIG.maxNoClicks) {
            trapNoButton();
            return;
        }

        // Show message with shake animation
        const messageIndex = Math.min(noClickCount - 1, CONFIG.noMessages.length - 1);
        const messageText = CONFIG.noMessages[messageIndex];
        message.textContent = messageText;
        message.classList.add('shake');
        setTimeout(() => message.classList.remove('shake'), 500);

        // Shrink the No button
        noButtonScale = Math.max(
            noButtonScale * CONFIG.noButtonShrinkFactor,
            CONFIG.noButtonMinScale
        );

        // Move to random position (avoiding Yes button)
        moveNoButton();

        // Make Yes button bigger (opposite effect)
        const yesScale = 1 + (noClickCount * 0.08);
        yesBtn.style.transform = `scale(${Math.min(yesScale, 1.6)})`;

        // Add wobble to Yes button for attention
        yesBtn.style.animation = 'none';
        setTimeout(() => {
            yesBtn.style.animation = 'pulse 2s ease-in-out infinite';
        }, 10);
    }

    // ============================================
    // TRAP NO BUTTON - ÎœÎµÏ„Î¬ Î±Ï€ÏŒ Ï€Î¿Î»Î»Î¬ No, Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ Î±Î»Î»Î¬Î¶ÎµÎ¹!
    // ============================================
    function trapNoButton() {
        isNoButtonTrapped = true;

        // Show dramatic message
        message.textContent = CONFIG.finalNoMessage;
        message.style.color = '#ff1493';
        message.style.fontSize = '24px';
        message.style.fontWeight = 'bold';
        message.classList.add('shake');

        // Transform No button to Yes!
        setTimeout(() => {
            noBtn.textContent = 'Yes! ğŸ’•';
            noBtn.style.background = 'linear-gradient(135deg, #ff69b4, #ff1493)';
            noBtn.style.color = 'white';
            noBtn.style.border = 'none';
            noBtn.style.transform = 'translate(-50%, -50%) scale(1.2)';
            noBtn.style.animation = 'pulse 1s ease-in-out infinite';

            // Update click handler
            noBtn.removeEventListener('click', handleNoClick);
            noBtn.addEventListener('click', handleYesClick);
        }, 1500);
    }

    // ============================================
    // NO BUTTON POSITIONING - Î‘Î¡Î§Î™ÎšÎ— Î˜Î•Î£Î—
    // ============================================
    function positionNoButtonInitial() {
        // Position on the right side, NOT overlapping with Yes
        noBtn.style.position = 'relative';
        noBtn.style.left = 'auto';
        noBtn.style.top = 'auto';
        noBtn.style.transform = 'none';
    }

    // ============================================
    // NO BUTTON POSITIONING - Î¤Î¥Î§Î‘Î™Î‘ Î˜Î•Î£Î— (Î±Ï€Î¿Ï†ÎµÏÎ³ÎµÎ¹ Yes)
    // ============================================
    function moveNoButton() {
        // Switch to absolute positioning after first click
        if (noClickCount === 1) {
            noBtn.style.position = 'absolute';
        }

        const container = buttonsContainer.getBoundingClientRect();
        const yesBtnRect = yesBtn.getBoundingClientRect();
        const noBtnWidth = noBtn.offsetWidth * noButtonScale;
        const noBtnHeight = noBtn.offsetHeight * noButtonScale;

        let randomX, randomY, attempts = 0;
        const maxAttempts = 50;
        const minDistance = 120; // Minimum distance from Yes button

        do {
            randomX = Math.random() * (container.width - 100) + 50;
            randomY = Math.random() * (container.height - 100) + 50;

            // Calculate distance from Yes button
            const yesCenterX = yesBtnRect.left - container.left + yesBtnRect.width / 2;
            const yesCenterY = yesBtnRect.top - container.top + yesBtnRect.height / 2;
            const distance = Math.sqrt(
                Math.pow(randomX - yesCenterX, 2) +
                Math.pow(randomY - yesCenterY, 2)
            );

            if (distance > minDistance) break;
            attempts++;
        } while (attempts < maxAttempts);

        noBtn.style.left = randomX + 'px';
        noBtn.style.top = randomY + 'px';
        noBtn.style.transform = `translate(-50%, -50%) scale(${noButtonScale})`;
    }

    // ============================================
    // MOVE NO BUTTON AWAY FROM CURSOR
    // ============================================
    function moveNoButtonAway(mouseX, mouseY) {
        const container = buttonsContainer.getBoundingClientRect();
        const noBtnRect = noBtn.getBoundingClientRect();

        // Calculate direction away from mouse
        const noBtnCenterX = noBtnRect.left + noBtnRect.width / 2;
        const noBtnCenterY = noBtnRect.top + noBtnRect.height / 2;

        const deltaX = noBtnCenterX - mouseX;
        const deltaY = noBtnCenterY - mouseY;
        const angle = Math.atan2(deltaY, deltaX);

        // Move away
        const moveDistance = 150;
        let newX = (noBtnRect.left - container.left) + Math.cos(angle) * moveDistance;
        let newY = (noBtnRect.top - container.top) + Math.sin(angle) * moveDistance;

        // Keep within bounds
        newX = Math.max(50, Math.min(container.width - 50, newX));
        newY = Math.max(50, Math.min(container.height - 50, newY));

        noBtn.style.left = newX + 'px';
        noBtn.style.top = newY + 'px';
        noBtn.style.transition = 'left 0.3s ease, top 0.3s ease';
    }

    // ============================================
    // AUDIO CONTROLS
    // ============================================

    // ============================================
    // AUDIO CONTROLS
    // ============================================
    function toggleAudio() {
        // Check if audio source exists
        const hasAudioSource = bgMusic.querySelector('source');
        if (!hasAudioSource) {
            console.log('No audio source provided - add <source> tag in HTML');
            return;
        }

        audioEnabled = !audioEnabled;

        if (audioEnabled) {
            const playPromise = bgMusic.play();

            if (playPromise !== undefined) {
                playPromise.then(() => {
                    audioBtn.textContent = 'ğŸ”Š';
                    console.log('Audio playing');
                }).catch(e => {
                    console.log('Audio play failed:', e);
                    audioEnabled = false;
                    audioBtn.textContent = 'ğŸ”‡';
                });
            }
        } else {
            bgMusic.pause();
            audioBtn.textContent = 'ğŸ”‡';
        }
    }
    // ============================================
    // CONFETTI ANIMATION
    // ============================================
    function setupCanvas() {
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
        });
    }

    function createConfetti() {
        const colors = ['#ff69b4', '#ff1493', '#ffb6c1', '#ff69b4', '#ffc0cb'];
        const shapes = ['â¤ï¸', 'ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’', 'âœ¨', 'ğŸ‰'];
        const particles = [];
        const particleCount = 150; // More confetti!

        // Create particles
        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: Math.random() * confettiCanvas.width,
                y: -20 - Math.random() * 100,
                size: Math.random() * 25 + 15,
                speedY: Math.random() * 3 + 2,
                speedX: Math.random() * 6 - 3,
                rotation: Math.random() * 360,
                rotationSpeed: Math.random() * 15 - 7.5,
                color: colors[Math.floor(Math.random() * colors.length)],
                shape: shapes[Math.floor(Math.random() * shapes.length)],
                opacity: 1
            });
        }

        // Animate particles
        function animateConfetti() {
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);

            let activeParticles = 0;

            particles.forEach(particle => {
                if (particle.y < confettiCanvas.height + 50 && particle.opacity > 0) {
                    activeParticles++;

                    // Update position
                    particle.y += particle.speedY;
                    particle.x += particle.speedX;
                    particle.rotation += particle.rotationSpeed;

                    // Fade out near bottom
                    if (particle.y > confettiCanvas.height - 150) {
                        particle.opacity -= 0.02;
                    }

                    // Draw particle
                    ctx.save();
                    ctx.translate(particle.x, particle.y);
                    ctx.rotate(particle.rotation * Math.PI / 180);
                    ctx.globalAlpha = Math.max(0, particle.opacity);

                    // Draw emoji
                    ctx.font = `${particle.size}px Arial`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(particle.shape, 0, 0);

                    ctx.restore();
                }
            });

            if (activeParticles > 0) {
                requestAnimationFrame(animateConfetti);
            } else {
                ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            }
        }

        animateConfetti();
    }

    // ============================================
    // START
    // ============================================
    init();
</script>
</body>
</html>